### `.ipynb`

*   `code/_reproduce.ipynb`: This notebook guides the user through the steps to reproduce the project locally. It likely includes instructions for setting up the environment, downloading data, and running the main scripts. It uses the `dbds.generate_hotel_dfs` function to generate dataframes, saves those dataframes as pickle files, calculates OTB statistics, and predicts demand.
*   `code/agg_test.ipynb`: This notebook likely contains tests for the `code/agg.py` module, ensuring that the data aggregation functions work correctly. It reads data from pickle files (`h1_res.pick`, `h2_res.pick`, `h1_dbd.pick`, `h2_dbd.pick`), and uses functions from `agg.py` and `agg_utils.py` to prepare demand features.
*   `code/cxl_model_gridsearch.ipynb`: This notebook focuses on hyperparameter tuning for the cancellation model using a grid search approach. It appears to load data, split it into training and testing sets, and then use `GridSearchCV` to find the best parameters for an `XGBClassifier`. The best parameters are then printed.
*   `code/cxl_model_setup.ipynb`: This notebook is for setting up the cancellation model. It includes steps for data loading, preprocessing, feature selection, model training, and evaluation. It also includes code for hyperparameter tuning using `GridSearchCV`. It also generates confusion matrices.
*   `code/cxl_model_tuning.ipynb`: This notebook focuses on tuning the cancellation model, likely using techniques like grid search to optimize hyperparameters. It uses `XGBClassifier` and performs grid searches to find the best parameters.
*   `code/demand_model_analysis_h1.ipynb`, `code/demand_model_analysis_h2.ipynb`: These notebooks are for analyzing the demand models for hotel 1 and hotel 2, respectively. They likely involve evaluating model performance, visualizing results, and identifying areas for improvement. They split the data into training and testing sets based on the `as_of_date`.
*   `code/demand_model_selection.ipynb`: This notebook focuses on selecting the best demand model from a set of candidate models. It likely involves comparing the performance of different models on a validation set and choosing the one with the best performance.
*   `code/demand_model_setup.ipynb`: This notebook is for setting up the demand model. It includes steps for data loading, preprocessing, feature engineering, model training, and evaluation.
*   `code/feature_eng_demand.ipynb`: This notebook focuses on engineering features to be used in the demand model. It likely involves creating new features from existing ones, transforming features, and selecting the most relevant features for the model. It combines files generated by `code/save_sims.py`, adds features like "AsOfDate", "STLY_StayDate", "RemSupply", one-hot encodes "DOW" (Day of Week), and calculates various gap and pickup features. It also pulls "STLY" (Same Time Last Year) and actuals columns.
*   `code/presentation_stats_and_figs.ipynb`: This notebook seems to be focused on generating statistics and figures for presentations. It reads data from pickle and CSV files, calculates a combined confusion matrix for cancellation predictions, and saves the confusion matrix as an image.

### `.py`

*   `code/agg_utils.py`: Contains utility functions used by `code/agg.py`, such as functions for calculating time-lagged features or cleaning data.
*   `code/agg.py`: This script likely contains functions for aggregating data from various sources and calculating features for demand modeling. It might include functions for preparing demand features.
*   `code/dbds.py`: Contains functions to generate the initial dataframes from the raw data, including cleaning and parsing dates.
*   `code/demand.py`: Contains functions for training the demand model and determining optimal prices.
*   `code/demand_features.py`: Likely contains the feature lists used for demand modeling.
*   `code/features.py`: Defines the feature columns used in the models.
*   `code/model_cancellations.py`: Contains functions for modeling and predicting reservation cancellations.
*   `code/save_sims.py`: Contains functions for saving simulation records.
*   `code/sim_utils.py`: Contains utility functions used in the simulation.
